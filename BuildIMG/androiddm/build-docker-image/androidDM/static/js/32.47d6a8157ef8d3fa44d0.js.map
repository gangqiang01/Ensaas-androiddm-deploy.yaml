{"version":3,"sources":["webpack:///src/components/configuration/server.vue","webpack:///./src/components/restfulapi/aStoreApi.js","webpack:///./src/components/configuration/server.vue?6675","webpack:///./src/components/configuration/server.vue"],"names":["server","data","menuArray","constant","forEach","item","push","value","formLabelWidth","username","blobForm","bloburl","bucket","accesskey","secretkey","rules","required","trigger","isLoading","downloadQrCodeValue","downloadOptions","name","address","fetchcode","functionMenu","osType","android","linux","windows","menu","groupType","components","qrCode","vue_qrcode_esm","methods","menuIsShow","os","_g","matchInArray","this","selectOs","cid","_this","menuItem","menuObj","indexOf","saveServerAddress","_this2","serverForm","$refs","validate","valid","$swal","title","text","$t","icon","buttons","dangerMode","then","result","Object","serverConfigApi","res","handleResponse","status","button","promise_default","a","resolve","reject","getRepoServerApi","repoUrl","getRepoAppUrl","repoApiDelete","catch","error","response","getConfiguration","handleError","setServerMenu","_this3","length","osItem","mix","_this4","storage","ostype","count","menuStatusCount","osStatusCount","$router","replace","getQRcodeData","_this5","isObject","console","log","stringify_default","configQrCodeValue","isShowConfigQrCode","downloadDeployApp","window","location","href","downloadConfigFile","downloadAgent","keywords","watch","computed","extends_default","vuex_esm","created","configuration_server","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","aria-hidden","_v","_s","lg","md","offset","type","size","on","click","$event","label","label-width","model","callback","$$v","expression","change","checked","_l","directives","rawName","key","options","width","target","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/32.47d6a8157ef8d3fa44d0.js","sourcesContent":["<template>\n    <div class=\"configuration\">\n        <div class=\"m-t-10 \">\n            <p class=\"header-line\">\n                <i class=\"fa fa-cogs m-r-10\" aria-hidden=\"true\"></i>\n                {{$t('configuration.configurations')}}\n            </p>\n        </div>\n        <el-row>\n            <el-col :lg=\"10\" :md=\"21\" :offset=\"1\">\n                <div class=\"box-card\">\n                    <div class=\"cf card-header\">\n                        <i class=\"fa fa-th-large m-r-10\" aria-hidden=\"true\"></i>\n                        {{$t('configuration.menu')}} {{$t('configuration.configuration')}}\n                        <el-button class=\"fr m-r-5\" type=\"primary\" size=\"mini\" @click=\"setServerMenu()\">\n                            {{$t('global.save')}}\n                        </el-button>\n                    </div>\n                    <div class=\"card-body\">\n                        <el-form>\n                            <el-form-item :label=\"$t('label.deviceOs')\" :label-width=\"formLabelWidth\">\n                                <el-checkbox-group v-model=\"osType\">\n                                    <el-checkbox label=\"android\" @change=\"checked=>selectOs(checked, groupType.android)\">Android</el-checkbox>\n                                    <el-checkbox label=\"linux\" @change=\"checked=>selectOs(checked, groupType.linux)\">Linux</el-checkbox>\n                                    <el-checkbox label=\"windows\" @change=\"checked=>selectOs(checked, groupType.windows)\">Windows</el-checkbox>\n                                </el-checkbox-group>\n                            </el-form-item>\n                            <el-form-item :label=\"$t('label.functionMenu')\" :label-width=\"formLabelWidth\">\n                                <el-checkbox-group v-model=\"menu\">\n                                    <el-checkbox \n                                    v-for=\"item in functionMenu\" \n                                    :label=\"item.value\" \n                                    :key=\"item.value\" v-show=\"menuIsShow(item.os)\">\n                                    {{$t(item.label)}}\n                                    </el-checkbox>\n                                </el-checkbox-group>\n                            </el-form-item>\n                        </el-form>\n                    </div>\n                </div>\n            </el-col>\n\n            <el-col :lg=\"10\" :md=\"21\" :offset=\"1\">\n                <div class=\"box-card\">\n                    <div class=\"cf card-header\">\n                        <i class=\"fa fa-download m-r-10\" aria-hidden=\"true\"></i>\n                        {{$t('configuration.degeOnDeployAppDownload')}}\n                        <!-- <i class=\"fa fa-download fr m-r-5 c-primary pointer\" aria-hidden=\"true\" @click=\"configurableApkQRcodeVisible=true\"></i> -->\n                    </div>\n                    <div class=\"card-body text-center\">\n                        <qr-code :value=\"downloadQrCodeValue\" :options=\"{ width: 260}\"ã€€class=\"block-center\"></qr-code>\n                        <ul>\n                            <li class=\"introduce\">\n                                {{$t('configuration.scanQRCode')}}\n                            </li>\n                            <li class=\"introduce\">\n                                {{$t('configuration.scanQRCode1')}}\n                            </li>\n                            <li class=\"introduce\">\n                                <i class=\"fa fa-hand-o-right m-r-5\" aria-hidden=\"true\"></i>\n                                <span @click=\"downloadDeployApp()\" class=\"can-click\">\n                                    {{$t('global.download')}}\n                                </span>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n            </el-col>\n            \n        </el-row>\n        <el-row>\n            \n            <el-col :lg=\"10\" :md=\"21\" :offset=\"1\">\n                <div class=\"box-card\">\n                    <div class=\"cf card-header\">\n                        <i class=\"fa fa-download m-r-10\" aria-hidden=\"true\"></i>\n                        {{$t('configuration.agentDownload')}}\n                        <!-- <i class=\"fa fa-download fr m-r-5 c-primary pointer\" aria-hidden=\"true\" @click=\"configurableApkQRcodeVisible=true\"></i> -->\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"agentInfo\">\n                            <p>\n                                <span class=\"agentlable\">{{$t('configuration.baiduyun')}}</span> <a :href=\"address\" target=\"_blank\" class=\"agentVal\">{{address}}</a>\n                                \n                            </p>\n                            <p>\n                                <span class=\"agentlable\">{{$t('configuration.fetchCode')}}</span> <span class=\"agentVal\">{{fetchcode}}</span>\n                            </p>\n                        </div>\n                    </div>\n                </div>\n            </el-col>\n        </el-row>\n    </div>\n</template>\n<script>\n\nimport {getServerConfigApi, setServerConfigApi, getRepoServerApi, getQRcodeDataApi, setServerMenuApi, getServerMenuApi} from \"../restfulapi/serverConfigApi\"\nimport handleResponse from '../restfulapi/handleResponse';\nimport {setSession, getSession, checkSession} from \"../../assets/js/storage\"\nimport {applicationTitle, downloadBaseUrl, fetchcode, address, functionMenu, groupType} from \"../../assets/js/constant\"\nimport qrCode from '@chenfengyuan/vue-qrcode';\nimport {deleteAllApi} from \"../restfulapi/aStoreApi\"\nimport {mapState} from 'vuex'\n\nexport default {\n    \n    data(){\n        let menuArray = [];\n        functionMenu.forEach((item) => {\n            menuArray.push(item.value)\n        })\n        return{\n            formLabelWidth: \"10rem\",\n            username: \"\",\n            blobForm: {\n                bloburl: \"\",\n                bucket: \"\",\n                accesskey: \"\",\n                secretkey: \"\"\n            },\n            rules: {\n                bloburl: {required: true , trigger: 'blur'},\n                bucket: {required: true , trigger: 'blur'},\n                accesskey: {required: true , trigger: 'blur'},\n                secretkey: {required: true , trigger: 'blur'},\n            },\n            isLoading: false,\n            downloadQrCodeValue: \"http://106.12.15.5:30002/DEPLOYREPO/EI-Link.apk\",\n            downloadOptions:[\n                {name: \"Rk3288\", value: \"rk3288\"},\n                {name:\"Rk3399\", value: \"rk3399\"}, \n                {name: \"Baytrail\", value: \"baytrail\"}, \n                {name: \"Imx6\", value: \"imx6\"}, \n                {name: \"Apollolake\", value: \"apollolake\"}, \n                {name: \"Aim\", value: \"aim\"}\n            ],\n            address: address,\n            fetchcode: fetchcode,\n            functionMenu,\n            osType: [groupType.android, groupType.linux, groupType.windows],\n            menu: menuArray,\n            groupType,\n        }\n\n    },\n\n    components: {\n        qrCode\n    },\n\n    methods: {\n        menuIsShow(os){\n            return _g.matchInArray(this.osType, os)||os == 'mix'\n        },\n        \n        selectOs(value, cid){\n            if(value){\n                this.menu.forEach(menuItem => {\n                    functionMenu.forEach(menuObj => {\n                        if(menuObj.os.indexOf(cid)>-1){\n                            if(this.menu.indexOf(menuObj.value) == -1){\n                                this.menu.push(menuObj.value)\n                            }\n                        }\n                        \n                    })\n                })\n            }\n        },\n        saveServerAddress(cid){\n            let serverForm;\n            switch(cid){\n                case \"blob\":\n                serverForm = \"blobForm\";\n                break;\n                default:\n                serverForm = \"\";\n            }\n            this.$refs[serverForm].validate((valid) => {\n                if (valid) {\n                    this.$swal({\n                        title: \"Note!\",\n                        text: this.$t('configuration.noteContent'),\n                        icon: \"warning\",\n                        buttons: true,  \n                        dangerMode: true,\n                    }).then((result) => {\n                        if(result){\n                            this.isLoading = true;\n                            setServerConfigApi(this[serverForm]).then((res) => {\n                                this.isLoading = false;\n                                handleResponse(res, (data) => {\n                                    if(data.status === \"CHANGED\"){\n                                        this.$swal(\"\", this.$t('global.success'), \"success\", {button: this.$t('global.confirm')}).then(() => {\n                                            deleteAllApi();\n                                            this.getConfiguration();\n                                        })\n                                    }else{\n                                        _g.handleError(data)\n                                    }\n                                })\n                            })\n                        }\n                    }) \n                    \n                }\n            })\n        },\n        setServerMenu(){\n            if(this.osType.length == 0){\n                this.$swal(\"\",this.$t('configuration.noOs'),\"info\", {button: this.$t('global.confirm')})\n                return;\n            }\n            let menu = [];\n            this.menu.forEach(menuItem => {\n                let res = false;\n                functionMenu.forEach(menuObj => {\n                    \n                    if(menuObj.value == menuItem){\n                        this.osType.forEach((osItem) => {\n                            if(menuObj.os.indexOf(osItem)>-1|| menuObj.os == groupType.mix){\n                                res = true;\n                            }\n                        })\n                    }\n                })\n                \n                if(res){\n                    menu.push(menuItem);\n                }\n            })\n            // console.log(menu);\n            setServerMenuApi(this.username, this.osType, menu).then((res) => {\n                handleResponse(res, (data) => {\n                    if(data.status === \"CHANGED\"){\n                        this.$swal(\"\", this.$t('global.success'), \"success\", {button: this.$t('global.confirm')}).then(() => {\n                            this.getConfiguration();\n                        })\n                    }else{\n                        _g.handleError(res)\n                    }\n                })\n            })\n        },\n        getConfiguration(){\n            if(checkSession(\"username\")){\n                this.username = getSession(\"username\");\n                getServerConfigApi(this.username).then((res) => {\n                    handleResponse(res, (data) => {\n                        this.blobForm.bloburl = data.bloburl;\n                        this.blobForm.bucket = data.bucket;\n                        this.blobForm.accesskey = data.accesskey;\n                        this.blobForm.secretkey = data.secretkey;\n                    })\n                })\n                getServerMenuApi(this.username).then((res) => {\n                    handleResponse(res, (data) => {\n                        if(data.menu){\n                            this.menu = data.menu;\n                            this.osType = data.ostype;\n                            let count = this.menu.length;\n                            _g.menuStatusCount(count);\n                            _g.osStatusCount(this.osType.length);\n                            setSession(\"apphub_menu\", this.menu);\n                            setSession(\"apphub_os\", this.osType);\n                        }\n                    })\n                })\n            }else{\n                this.$swal(\"\", this.$t('global.loginExpired'), \"info\", {button: this.$t('global.confirm')}).then(() => {\n                    this.$router.replace(\"/\");\n                    return;\n                })    \n            }\n\n        },\n \tgetQRcodeData(){\n            getQRcodeDataApi().then((data) => {\n                handleResponse((data), (res) => {\n                    if(_g.isObject(res)){\n                        console.log(\"qrcodedata:\"+JSON.stringify(res));\n                        this.configQrCodeValue = JSON.stringify(res);\n                        this.isShowConfigQrCode = true;\n                    }\n                })\n            })\n        },\n\n        downloadDeployApp(){\n            window.location.href= this.downloadQrCodeValue;\n        },  \n\n\tdownloadConfigFile(){\n            window.location.href=\"/api/configmgr/downloadConfigFile\";\n        },\n        downloadAgent(keywords){\n            window.location.href=downloadBaseUrl+\"/downloadApp?pkgname=com.adv.client&keywords=\"+keywords;\n        }\n   \n    },\n    watch: {\n        menuStatusCount(){\n            this.getConfiguration()\n        },\n\n        osStatusCount(){\n            this.getConfiguration()\n        }\n    },\n    computed:{\n        ...mapState({\n            menuStatusCount: \"menuStatusCount\",\n            osStatusCount: \"osStatusCount\",\n        }), \n    },\n    created(){\n        this.getConfiguration();\n    },\n}\n</script>\n\n<style lang=\"scss\">\n@import \"../../assets/css/colors\";\n    .configuration{\n        .box-card {\n            margin:2rem 0;\n            .card-header{\n                padding: 18px 20px;\n                border-bottom: 1px solid #ebeef5;\n                -webkit-box-sizing: border-box;\n                box-sizing: border-box;\n            }\n            .card-body {\n                padding: 20px;\n                margin-bottom: 1rem;\n                input{\n                    min-width: 180px;\n                    width: 95%;\n                }\n                .introduce {\n                    padding: 5px;\n                    color: #606266;\n                    font-size:14px;\n                }\n                .can-click{\n                    color: $primary-color;\n                    cursor: pointer;\n                    text-decoration: underline;\n                }\n            }\n        }\n    }\n    .cnote{\n        margin-left: 30px;\n        margin-bottom: 5px;\n        color: $darkgray-color;\n        font-size:14px;\n        i{\n            color: $danger-color;\n            margin-right: 8px;\n            \n        }\n    }\n\n    .agentInfo{\n\n        .agentlable{\n            display: inline-block;\n            width: 210px;\n            text-align: right;\n            font-size: 15px;\n            color: #606266;\n            line-height: 40px;\n            font-weight: 600;\n        }\n        .agentVal{\n            margin-left: 10px;\n            color: $primary-color;\n        }\n        a{\n            text-decoration: underline;;\n        }\n    }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/configuration/server.vue","import {repoApiDelete} from '@/assets/js/baseApi'\nimport {getRepoServerApi} from \"../restfulapi/serverConfigApi\"\nimport {getToken} from \"./getRepoTokenApi\"\n\nlet deleteAllApi = function(){\n    return new Promise((resolve, reject) => {\n        getRepoServerApi().then((repoUrl) => {\n            let getRepoAppUrl =  repoUrl + \"/user/deleteAll\";\n            repoApiDelete(getRepoAppUrl).then((data) => {\n                resolve(data);\n            }).catch((error) => {\n                resolve(error.response);\n            })\n        })\n    \n    })\n}\n\nexport {\n    deleteAllApi\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/restfulapi/aStoreApi.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"configuration\"},[_c('div',{staticClass:\"m-t-10 \"},[_c('p',{staticClass:\"header-line\"},[_c('i',{staticClass:\"fa fa-cogs m-r-10\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.$t('configuration.configurations'))+\"\\n        \")])]),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"lg\":10,\"md\":21,\"offset\":1}},[_c('div',{staticClass:\"box-card\"},[_c('div',{staticClass:\"cf card-header\"},[_c('i',{staticClass:\"fa fa-th-large m-r-10\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n                    \"+_vm._s(_vm.$t('configuration.menu'))+\" \"+_vm._s(_vm.$t('configuration.configuration'))+\"\\n                    \"),_c('el-button',{staticClass:\"fr m-r-5\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":function($event){_vm.setServerMenu()}}},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('global.save'))+\"\\n                    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('el-form',[_c('el-form-item',{attrs:{\"label\":_vm.$t('label.deviceOs'),\"label-width\":_vm.formLabelWidth}},[_c('el-checkbox-group',{model:{value:(_vm.osType),callback:function ($$v) {_vm.osType=$$v},expression:\"osType\"}},[_c('el-checkbox',{attrs:{\"label\":\"android\"},on:{\"change\":function (checked){ return _vm.selectOs(checked, _vm.groupType.android); }}},[_vm._v(\"Android\")]),_vm._v(\" \"),_c('el-checkbox',{attrs:{\"label\":\"linux\"},on:{\"change\":function (checked){ return _vm.selectOs(checked, _vm.groupType.linux); }}},[_vm._v(\"Linux\")]),_vm._v(\" \"),_c('el-checkbox',{attrs:{\"label\":\"windows\"},on:{\"change\":function (checked){ return _vm.selectOs(checked, _vm.groupType.windows); }}},[_vm._v(\"Windows\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":_vm.$t('label.functionMenu'),\"label-width\":_vm.formLabelWidth}},[_c('el-checkbox-group',{model:{value:(_vm.menu),callback:function ($$v) {_vm.menu=$$v},expression:\"menu\"}},_vm._l((_vm.functionMenu),function(item){return _c('el-checkbox',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.menuIsShow(item.os)),expression:\"menuIsShow(item.os)\"}],key:item.value,attrs:{\"label\":item.value}},[_vm._v(\"\\n                                \"+_vm._s(_vm.$t(item.label))+\"\\n                                \")])}))],1)],1)],1)])]),_vm._v(\" \"),_c('el-col',{attrs:{\"lg\":10,\"md\":21,\"offset\":1}},[_c('div',{staticClass:\"box-card\"},[_c('div',{staticClass:\"cf card-header\"},[_c('i',{staticClass:\"fa fa-download m-r-10\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n                    \"+_vm._s(_vm.$t('configuration.degeOnDeployAppDownload'))+\"\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"card-body text-center\"},[_c('qr-code',{staticClass:\"block-center\",attrs:{\"value\":_vm.downloadQrCodeValue,\"options\":{ width: 260}}}),_vm._v(\" \"),_c('ul',[_c('li',{staticClass:\"introduce\"},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('configuration.scanQRCode'))+\"\\n                        \")]),_vm._v(\" \"),_c('li',{staticClass:\"introduce\"},[_vm._v(\"\\n                            \"+_vm._s(_vm.$t('configuration.scanQRCode1'))+\"\\n                        \")]),_vm._v(\" \"),_c('li',{staticClass:\"introduce\"},[_c('i',{staticClass:\"fa fa-hand-o-right m-r-5\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\" \"),_c('span',{staticClass:\"can-click\",on:{\"click\":function($event){_vm.downloadDeployApp()}}},[_vm._v(\"\\n                                \"+_vm._s(_vm.$t('global.download'))+\"\\n                            \")])])])],1)])])],1),_vm._v(\" \"),_c('el-row',[_c('el-col',{attrs:{\"lg\":10,\"md\":21,\"offset\":1}},[_c('div',{staticClass:\"box-card\"},[_c('div',{staticClass:\"cf card-header\"},[_c('i',{staticClass:\"fa fa-download m-r-10\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n                    \"+_vm._s(_vm.$t('configuration.agentDownload'))+\"\\n                    \")]),_vm._v(\" \"),_c('div',{staticClass:\"card-body\"},[_c('div',{staticClass:\"agentInfo\"},[_c('p',[_c('span',{staticClass:\"agentlable\"},[_vm._v(_vm._s(_vm.$t('configuration.baiduyun')))]),_vm._v(\" \"),_c('a',{staticClass:\"agentVal\",attrs:{\"href\":_vm.address,\"target\":\"_blank\"}},[_vm._v(_vm._s(_vm.address))])]),_vm._v(\" \"),_c('p',[_c('span',{staticClass:\"agentlable\"},[_vm._v(_vm._s(_vm.$t('configuration.fetchCode')))]),_vm._v(\" \"),_c('span',{staticClass:\"agentVal\"},[_vm._v(_vm._s(_vm.fetchcode))])])])])])])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-750a2f24\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/configuration/server.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-750a2f24\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./server.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./server.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./server.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-750a2f24\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./server.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/configuration/server.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}