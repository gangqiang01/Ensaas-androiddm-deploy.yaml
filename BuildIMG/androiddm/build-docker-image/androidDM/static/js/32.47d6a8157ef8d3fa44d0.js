webpackJsonp([32],{QwJx:function(t,e){},Txc8:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("4YfN"),o=n.n(a),s=n("3cXf"),i=n.n(s),c=n("OT2R"),r=n("jnx8"),l=n("22O3"),u=n("/eZD"),d=n("hFCP"),f=n("rVsN"),b=n.n(f),h=n("5Y2G"),g=(n("6LEk"),n("9rMa")),m={data:function(){var t=[];return u.t.forEach(function(e){t.push(e.value)}),{formLabelWidth:"10rem",username:"",blobForm:{bloburl:"",bucket:"",accesskey:"",secretkey:""},rules:{bloburl:{required:!0,trigger:"blur"},bucket:{required:!0,trigger:"blur"},accesskey:{required:!0,trigger:"blur"},secretkey:{required:!0,trigger:"blur"}},isLoading:!1,downloadQrCodeValue:"http://106.12.15.5:30002/DEPLOYREPO/EI-Link.apk",downloadOptions:[{name:"Rk3288",value:"rk3288"},{name:"Rk3399",value:"rk3399"},{name:"Baytrail",value:"baytrail"},{name:"Imx6",value:"imx6"},{name:"Apollolake",value:"apollolake"},{name:"Aim",value:"aim"}],address:u.a,fetchcode:u.q,functionMenu:u.t,osType:[u.u.android,u.u.linux,u.u.windows],menu:t,groupType:u.u}},components:{qrCode:d.a},methods:{menuIsShow:function(t){return _g.matchInArray(this.osType,t)||"mix"==t},selectOs:function(t,e){var n=this;t&&this.menu.forEach(function(t){u.t.forEach(function(t){t.os.indexOf(e)>-1&&-1==n.menu.indexOf(t.value)&&n.menu.push(t.value)})})},saveServerAddress:function(t){var e=this,n=void 0;switch(t){case"blob":n="blobForm";break;default:n=""}this.$refs[n].validate(function(t){t&&e.$swal({title:"Note!",text:e.$t("configuration.noteContent"),icon:"warning",buttons:!0,dangerMode:!0}).then(function(t){t&&(e.isLoading=!0,Object(c.i)(e[n]).then(function(t){e.isLoading=!1,Object(r.a)(t,function(t){"CHANGED"===t.status?e.$swal("",e.$t("global.success"),"success",{button:e.$t("global.confirm")}).then(function(){new b.a(function(t,e){Object(c.c)().then(function(e){var n=e+"/user/deleteAll";Object(h.g)(n).then(function(e){t(e)}).catch(function(e){t(e.response)})})}),e.getConfiguration()}):_g.handleError(t)})}))})})},setServerMenu:function(){var t=this;if(0!=this.osType.length){var e=[];this.menu.forEach(function(n){var a=!1;u.t.forEach(function(e){e.value==n&&t.osType.forEach(function(t){(e.os.indexOf(t)>-1||e.os==u.u.mix)&&(a=!0)})}),a&&e.push(n)}),Object(c.j)(this.username,this.osType,e).then(function(e){Object(r.a)(e,function(n){"CHANGED"===n.status?t.$swal("",t.$t("global.success"),"success",{button:t.$t("global.confirm")}).then(function(){t.getConfiguration()}):_g.handleError(e)})})}else this.$swal("",this.$t("configuration.noOs"),"info",{button:this.$t("global.confirm")})},getConfiguration:function(){var t=this;Object(l.b)("username")?(this.username=Object(l.d)("username"),Object(c.e)(this.username).then(function(e){Object(r.a)(e,function(e){t.blobForm.bloburl=e.bloburl,t.blobForm.bucket=e.bucket,t.blobForm.accesskey=e.accesskey,t.blobForm.secretkey=e.secretkey})}),Object(c.g)(this.username).then(function(e){Object(r.a)(e,function(e){if(e.menu){t.menu=e.menu,t.osType=e.ostype;var n=t.menu.length;_g.menuStatusCount(n),_g.osStatusCount(t.osType.length),Object(l.g)("apphub_menu",t.menu),Object(l.g)("apphub_os",t.osType)}})})):this.$swal("",this.$t("global.loginExpired"),"info",{button:this.$t("global.confirm")}).then(function(){t.$router.replace("/")})},getQRcodeData:function(){var t=this;Object(c.b)().then(function(e){Object(r.a)(e,function(e){_g.isObject(e)&&(console.log("qrcodedata:"+i()(e)),t.configQrCodeValue=i()(e),t.isShowConfigQrCode=!0)})})},downloadDeployApp:function(){window.location.href=this.downloadQrCodeValue},downloadConfigFile:function(){window.location.href="/api/configmgr/downloadConfigFile"},downloadAgent:function(t){window.location.href=u.p+"/downloadApp?pkgname=com.adv.client&keywords="+t}},watch:{menuStatusCount:function(){this.getConfiguration()},osStatusCount:function(){this.getConfiguration()}},computed:o()({},Object(g.b)({menuStatusCount:"menuStatusCount",osStatusCount:"osStatusCount"})),created:function(){this.getConfiguration()}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"configuration"},[n("div",{staticClass:"m-t-10 "},[n("p",{staticClass:"header-line"},[n("i",{staticClass:"fa fa-cogs m-r-10",attrs:{"aria-hidden":"true"}}),t._v("\n            "+t._s(t.$t("configuration.configurations"))+"\n        ")])]),t._v(" "),n("el-row",[n("el-col",{attrs:{lg:10,md:21,offset:1}},[n("div",{staticClass:"box-card"},[n("div",{staticClass:"cf card-header"},[n("i",{staticClass:"fa fa-th-large m-r-10",attrs:{"aria-hidden":"true"}}),t._v("\n                    "+t._s(t.$t("configuration.menu"))+" "+t._s(t.$t("configuration.configuration"))+"\n                    "),n("el-button",{staticClass:"fr m-r-5",attrs:{type:"primary",size:"mini"},on:{click:function(e){t.setServerMenu()}}},[t._v("\n                        "+t._s(t.$t("global.save"))+"\n                    ")])],1),t._v(" "),n("div",{staticClass:"card-body"},[n("el-form",[n("el-form-item",{attrs:{label:t.$t("label.deviceOs"),"label-width":t.formLabelWidth}},[n("el-checkbox-group",{model:{value:t.osType,callback:function(e){t.osType=e},expression:"osType"}},[n("el-checkbox",{attrs:{label:"android"},on:{change:function(e){return t.selectOs(e,t.groupType.android)}}},[t._v("Android")]),t._v(" "),n("el-checkbox",{attrs:{label:"linux"},on:{change:function(e){return t.selectOs(e,t.groupType.linux)}}},[t._v("Linux")]),t._v(" "),n("el-checkbox",{attrs:{label:"windows"},on:{change:function(e){return t.selectOs(e,t.groupType.windows)}}},[t._v("Windows")])],1)],1),t._v(" "),n("el-form-item",{attrs:{label:t.$t("label.functionMenu"),"label-width":t.formLabelWidth}},[n("el-checkbox-group",{model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},t._l(t.functionMenu,function(e){return n("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:t.menuIsShow(e.os),expression:"menuIsShow(item.os)"}],key:e.value,attrs:{label:e.value}},[t._v("\n                                "+t._s(t.$t(e.label))+"\n                                ")])}))],1)],1)],1)])]),t._v(" "),n("el-col",{attrs:{lg:10,md:21,offset:1}},[n("div",{staticClass:"box-card"},[n("div",{staticClass:"cf card-header"},[n("i",{staticClass:"fa fa-download m-r-10",attrs:{"aria-hidden":"true"}}),t._v("\n                    "+t._s(t.$t("configuration.degeOnDeployAppDownload"))+"\n                    ")]),t._v(" "),n("div",{staticClass:"card-body text-center"},[n("qr-code",{staticClass:"block-center",attrs:{value:t.downloadQrCodeValue,options:{width:260}}}),t._v(" "),n("ul",[n("li",{staticClass:"introduce"},[t._v("\n                            "+t._s(t.$t("configuration.scanQRCode"))+"\n                        ")]),t._v(" "),n("li",{staticClass:"introduce"},[t._v("\n                            "+t._s(t.$t("configuration.scanQRCode1"))+"\n                        ")]),t._v(" "),n("li",{staticClass:"introduce"},[n("i",{staticClass:"fa fa-hand-o-right m-r-5",attrs:{"aria-hidden":"true"}}),t._v(" "),n("span",{staticClass:"can-click",on:{click:function(e){t.downloadDeployApp()}}},[t._v("\n                                "+t._s(t.$t("global.download"))+"\n                            ")])])])],1)])])],1),t._v(" "),n("el-row",[n("el-col",{attrs:{lg:10,md:21,offset:1}},[n("div",{staticClass:"box-card"},[n("div",{staticClass:"cf card-header"},[n("i",{staticClass:"fa fa-download m-r-10",attrs:{"aria-hidden":"true"}}),t._v("\n                    "+t._s(t.$t("configuration.agentDownload"))+"\n                    ")]),t._v(" "),n("div",{staticClass:"card-body"},[n("div",{staticClass:"agentInfo"},[n("p",[n("span",{staticClass:"agentlable"},[t._v(t._s(t.$t("configuration.baiduyun")))]),t._v(" "),n("a",{staticClass:"agentVal",attrs:{href:t.address,target:"_blank"}},[t._v(t._s(t.address))])]),t._v(" "),n("p",[n("span",{staticClass:"agentlable"},[t._v(t._s(t.$t("configuration.fetchCode")))]),t._v(" "),n("span",{staticClass:"agentVal"},[t._v(t._s(t.fetchcode))])])])])])])],1)],1)},staticRenderFns:[]};var p=n("C7Lr")(m,v,!1,function(t){n("QwJx")},null,null);e.default=p.exports}});
//# sourceMappingURL=32.47d6a8157ef8d3fa44d0.js.map