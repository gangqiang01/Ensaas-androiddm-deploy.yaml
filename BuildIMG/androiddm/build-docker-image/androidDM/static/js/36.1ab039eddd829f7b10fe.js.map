{"version":3,"sources":["webpack:///./src/components/restfulapi/userInfo.js","webpack:///src/components/user/list.vue","webpack:///./src/components/user/list.vue?6d68","webpack:///./src/components/user/list.vue"],"names":["resetPasswd","username","oldPwd","newPwd","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","a","resolve","reject","data","name","oldpasswd","newpasswd","apiPut","then","catch","err","response","addUserApi","form","password","role","addRole","apiPost","error","deleteUserApi","apiDelete","getAllUserByPageApi","currentPage","limit","currentpage","apiGet","getAllUserByPageAndKeywordsApi","keywords","getUserByNameApi","list","_this","this","tableData","count","realKeywords","multipleSelection","dialogAddUserVisible","dialogEditUserRoleVisible","formLabelWidth","isshow","rules","validator","rule","value","callback","RegExp","test","Error","$t","trigger","isLoading","methods","handleCurrentChange","getUserLikeName","getAllUsers","deleteUser","uname","_this2","_g","swalInfoDo","result","Object","userInfo","res","handleResponse","status","$swal","button","_this3","isObject","searchUser","keyword","_this4","addUser","_this5","$refs","validate","valid","handleError","init","closeAddDialog","created","watch","$route","to","from","user_list","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","aria-hidden","_v","_s","size","placeholder","nativeOn","keyup","$event","_k","keyCode","key","model","$$v","expression","slot","icon","on","click","staticStyle","width","label","scopedSlots","_u","fn","scope","fontSize","prop","min-width","_f","row","ts","align","type","disabled","directives","rawName","layout","page-size","current-page","total","current-change","visible","update:visible","close","ref","label-width","autocomplete","$set","staticRenderFns","Component","__webpack_require__","normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/36.1ab039eddd829f7b10fe.js","sourcesContent":["import {apiPut, apiGet, apiPost, apiDelete} from \"../../assets/js/baseApi\";\n\n\nlet resetPasswd = function(username, oldPwd,  newPwd){\n    return new Promise((resolve, reject) => {\n        let data = {\n            name: username,\n            oldpasswd: oldPwd,\n            newpasswd: newPwd\n        }\n        apiPut('/api/usermgr/resetPasswd', data).then((data) => {\n            resolve(data)\n        }).catch((err) => {\n            resolve(err.response)\n        })\n    })\n}\n\nlet addUserApi = function(form){\n    return new Promise((resolve, reject) => {\n        let data = {\n            name: form.username,\n            password: form.password,\n            role: form.addRole\n        }\n        apiPost('/api/usermgr', data).then((data) => {\n            resolve(data)\n        }).catch((error) => {\n            resolve(err.response)\n        })\n    })\n}\n\nlet deleteUserApi = function(username){\n    return new Promise((resolve, reject) => {\n\n        apiDelete('/api/usermgr/'+username).then((data) => {\n            resolve(data)\n        }).catch((error) => {\n            resolve(err.response)\n        })\n    })\n}\n\nlet getAllUserApi = function(){\n    return new Promise((resolve, reject) => {\n        apiGet('/api/usermgr').then((data) => {\n            resolve(data)\n        }).catch((error) => {\n            resolve(err.response)\n        })\n    })\n}\n\nlet getAllUserByPageApi = function(currentPage, limit){\n    const data = {\n        currentpage: currentPage,\n        limit: limit\n    }\n    return new Promise((resolve, reject) => {\n        apiGet('/api/usermgr/byPage', data).then((data) => {\n            resolve(data)\n        }).catch((error) => {\n            resolve(err.response)\n        })\n    })\n}\n\nlet getAllUserByPageAndKeywordsApi = function(keywords, currentPage, limit){\n    const data = {\n        keywords: keywords,\n        currentpage: currentPage,\n        limit: limit\n    }\n    return new Promise((resolve, reject) => {\n        apiGet('/api/usermgr/byPageAndKeywords', data).then((data) => {\n            resolve(data)\n        }).catch((error) => {\n            resolve(err.response)\n        })\n    })\n}\n\nlet getUserByNameApi = function(username){\n    let data = {\n        name: username\n    }\n    return new Promise((resolve, reject) => {\n\n        apiGet('/api/usermgr/byname', data).then((data) => {\n            resolve(data)\n        }).catch((error) => {\n            resolve(err.response)\n        })\n    })\n}\n\nlet updateUserByNameApi = function(username, role){\n    let data = {\n        name: username,\n        role: role\n    }\n    return new Promise((resolve, reject) => {\n\n        apiPost('/api/usermgr/byname', data).then((data) => {\n            resolve(data)\n        }).catch((error) => {\n            resolve(err.response)\n        })\n    })\n}\n\nexport {\n    resetPasswd,\n    getAllUserApi,\n    deleteUserApi,\n    getUserByNameApi,\n    addUserApi,\n    updateUserByNameApi,\n    getAllUserByPageApi,\n    getAllUserByPageAndKeywordsApi\n}\n\n\n// WEBPACK FOOTER //\n// ./src/components/restfulapi/userInfo.js","<template>\n\t<div class=\"m-l-10\">\n        <div class=\"m-t-10 \">\n            <p class=\"header-line\"><i class=\"fa fa-sliders c-blue m-r-10\" aria-hidden=\"true\"></i>\n            {{$t('user.userList')}}\n            </p>\n        </div>\n\t\t<div class=\"cf panel-header\">\n            <div class=\"fr m-r-10\"> \n                <!-- <el-button size=\"small\" type=\"success\" @click=\"dialogAddUserVisible=true\">Add</el-button>  -->\n                <el-input size=\"small\" class=\"w-300 m-l-10\" v-model=\"keywords\" :placeholder=\"$t('user.keyword')\" @keyup.enter.native=\"searchUser\">\n                    <el-button slot=\"append\" icon=\"el-icon-search\"  @click=\"searchUser\" ></el-button>\n                </el-input>\n            </div>\n        </div>\n\t\t<el-table\n\t\t:data=\"tableData\"\n\t\tstyle=\"width: 100%\">\n            <el-table-column\n            label=\"\"\n            width=\"60\"\n            >\n                <template slot-scope=\"scope\">\n                    <div>\n                        <i class=\"fa fa-user c-primary\" style=\"fontSize: 21px\" ></i>\n                    </div>\n                </template>\n            </el-table-column>\n            <el-table-column\n\t\t\t:label=\"$t('user.userName')\"\n\t\t\tprop=\"name\"\n\t\t\tmin-width=\"80\">\n\t\t\t</el-table-column>\n\n\t\t\t<el-table-column\n\t\t\t:label=\"$t('user.create')\"\n\t\t\tmin-width=\"150\">\n                <template slot-scope=\"scope\">\n                    <div>\n                        {{ scope.row.ts|time}}\n                    </div>\n                </template>\n\t\t\t</el-table-column>\n      \n\t\t\t<el-table-column\n\t\t\t:label=\"$t('user.role')\"\n\t\t\tmin-width=\"150\">\n                <template slot-scope=\"scope\">\n                    <div>\n                        {{ scope.row.role|roleFunc}} \n                    </div>\n                </template>\n\t\t\t</el-table-column>\n             <el-table-column\n                :label=\"$t('global.action')\"\n                min-width=\"165\"\n                align=\"center\">\n                <template slot-scope=\"scope\">\n                    <el-button \n                        size=\"mini\" \n                        type=\"danger\"\n                        @click=\"deleteUser(scope.row.name)\"\n                        :disabled=\"scope.row.role==0|| scope.row.role==1\"\n                        >\n                        {{$t('global.delete')}}\n                    </el-button>\n                </template>\n            </el-table-column>\n\t\t</el-table>\n   \n\t\t<div class=\"p-t-20 fr\">\n       \n\t\t\t<div>\n\t\t\t\t<el-pagination\n\t\t\t\t@current-change=\"handleCurrentChange\"\n\t\t\t\tlayout=\"prev, pager, next\"\n\t\t\t\t:page-size=\"limit\"\n\t\t\t\t:current-page=\"currentPage\"\n\t\t\t\t:total=\"count\"\n                 v-show=\"isshow\">\n\t\t\t\t</el-pagination>\n\t\t\t</div>\n\t\t</div>\n         <el-button  \n            size=\"small\" \n            @click=\"dialogAddUserVisible=true\" \n            type=\"primary\" \n            class=\"fl m-t-10 cf m-l-10 m-b-20\">\n            {{$t('global.add')}}\n        </el-button>\n        <el-dialog :visible.sync=\"dialogAddUserVisible\" @close=\"closeAddDialog\">\n             <div slot=\"title\" class=\"dialog-title\">\n                <i class=\"fa fa-plus-square-o m-r-10\" aria-hidden=\"true\"></i>\n                {{$t('user.addUser')}}\n            </div>\n            <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"130px\" class=\"m-l-30\">\n                <el-form-item :label=\"$t('label.email')\" :label-width=\"formLabelWidth\" prop=\"username\" >\n                    <el-input v-model=\"form.username\" autocomplete=\"off\" style=\"width: 320px\"　:placeholder=\"$t('user.emailhold')\"></el-input>\n                </el-form-item>\n            </el-form>\n            \n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogAddUserVisible = false\">{{$t('global.cancel')}}</el-button>\n                <el-button type=\"primary\" @click=\"addUser()\" v-loading=\"isLoading\">{{$t('global.add')}}</el-button>\n            </div>\n        </el-dialog>\n\t</div>\n</template>\n\n<script>\n    import {\n        getAllUserApi,\n        deleteUserApi, \n        addUserApi, \n        getAllUserByPageApi, \n        getAllUserByPageAndKeywordsApi, \n        getUserByNameApi,\n        updateUserByNameApi\n        } from \"../restfulapi/userInfo\"\n    import handleResponse from \"../restfulapi/handleResponse\"\n\n    export default {\n        data() {\n            let validateLogin = (rule,value,callback)=>{\n                let reg=new RegExp(/^([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+@([a-zA-Z0-9]+[_|\\_|\\.]?)*[a-zA-Z0-9]+\\.[a-zA-Z]{2,3}$/);\n                if(!reg.test(value)){\n                    return callback(new Error (this.$t('global.verifyEmailError')))\n                }else{callback()};\n            };\n            return {\n                tableData: [],\n                count: -1,\n                currentPage: 1,\n                keywords: '',\n                realKeywords: '',\n                multipleSelection: [],\n                limit: 10,\n                dialogAddUserVisible:false,\n                dialogEditUserRoleVisible: false,\n                formLabelWidth: \"130px\",\n                isshow: false,\n\n                form: {\n                    username: '',\n\n                },\n                rules: {\n                    username: {validator: validateLogin, trigger: 'blur'},\n                },\n                isLoading: false\n            }\n        },\n        methods: {\n\n            handleCurrentChange(currentPage) {\n                if(currentPage){\n                    this.currentPage = currentPage;\n                }else{\n                    this.currentPage = 1\n                }\n                if(this.realKeywords){\n                    this.getUserLikeName(this.realKeywords);\n                }else{\n                    this.getAllUsers(); \n                }\n            },\n\n            deleteUser(uname) {\n                _g.swalInfoDo(this.$t('global.areYouSure'), this.$t('global.delete'), this.$t('global.confirm'), this.$t('global.cancel')).then((result) => {\n                    if(result){\n                        deleteUserApi(uname).then((res) => {\n                            handleResponse(res, (data) => {\n                                if(data.status === \"CHANGED\"){\n                                    this.$swal(\"\",this.$t('global.success'),\"success\", {button: this.$t('global.confirm')}).then(() => {\n                                        this.getAllUsers();\n                                    })\n                                }\n                                \n                            })\n                        })\n                    }\n                })\n               \n            },\n\n            getAllUsers() {\n                getAllUserByPageApi(this.currentPage, this.limit).then((res) => {\n                    handleResponse(res, (data) => {\n                        if(_g.isObject(data)){\n                            this.tableData = data.data;\n                            this.count = data.count;\n                            this.isshow = this.count > this.limit;\n                        }\n                    })\n                })\n            },\n\n            searchUser(){\n                this.realKeywords = this.keywords\n                this.currentPage = 1;\n                this.getUserLikeName(this.realKeywords);\n            },\n\n            getUserLikeName(keyword){\n                getAllUserByPageAndKeywordsApi(this.keywords, this.currentPage, this.limit).then((res) => {\n                    handleResponse(res, (data) => {\n                        if(_g.isObject(data)){\n                            this.tableData = data.data;\n                            this.count = data.count;\n                            this.isshow = this.count > this.limit;\n                        }\n                    })\n                })\n            },\n\n           addUser() {\n               this.$refs.form.validate((valid) => {\n                   if(valid){\n                       this.isLoading = true;\n                        addUserApi(this.form).then((res) => {\n                            handleResponse(res, (data) => {\n                                this.isLoading = false;\n                                if(data.status === \"CHANGED\"){\n                                    this.$swal(\"\",this.$t('global.success'),\"success\", {button: this.$t('global.confirm')}).then(() => {\n                                        this.getAllUsers();\n                                    })\n                                }else{\n                                    _g.handleError(data);\n                                }\n                                this.dialogAddUserVisible = false;\n                            })\n                        })\n                    }\n               })\n            },\n\n            init() {\n                this.getAllUsers()\n            },\n\n           \n\n            \n            closeAddDialog(){\n                this.form =  {\n                    username: '',\n                    password: '',\n                    addRole: \"1\"\n                }\n            },\n            \n        },\n        created() {\n            this.init()\n        },\n        watch: {\n            '$route' (to, from) {\n                this.init()\n            }\n        },\n    }\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/user/list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"m-l-10\"},[_c('div',{staticClass:\"m-t-10 \"},[_c('p',{staticClass:\"header-line\"},[_c('i',{staticClass:\"fa fa-sliders c-blue m-r-10\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n            \"+_vm._s(_vm.$t('user.userList'))+\"\\n            \")])]),_vm._v(\" \"),_c('div',{staticClass:\"cf panel-header\"},[_c('div',{staticClass:\"fr m-r-10\"},[_c('el-input',{staticClass:\"w-300 m-l-10\",attrs:{\"size\":\"small\",\"placeholder\":_vm.$t('user.keyword')},nativeOn:{\"keyup\":function($event){if(!('button' in $event)&&_vm._k($event.keyCode,\"enter\",13,$event.key)){ return null; }_vm.searchUser($event)}},model:{value:(_vm.keywords),callback:function ($$v) {_vm.keywords=$$v},expression:\"keywords\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.searchUser},slot:\"append\"})],1)],1)]),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"\",\"width\":\"60\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_c('i',{staticClass:\"fa fa-user c-primary\",staticStyle:{\"fontSize\":\"21px\"}})])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('user.userName'),\"prop\":\"name\",\"min-width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('user.create'),\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n                        \"+_vm._s(_vm._f(\"time\")(scope.row.ts))+\"\\n                    \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('user.role'),\"min-width\":\"150\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',[_vm._v(\"\\n                        \"+_vm._s(_vm._f(\"roleFunc\")(scope.row.role))+\" \\n                    \")])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":_vm.$t('global.action'),\"min-width\":\"165\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"danger\",\"disabled\":scope.row.role==0|| scope.row.role==1},on:{\"click\":function($event){_vm.deleteUser(scope.row.name)}}},[_vm._v(\"\\n                        \"+_vm._s(_vm.$t('global.delete'))+\"\\n                    \")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"p-t-20 fr\"},[_c('div',[_c('el-pagination',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isshow),expression:\"isshow\"}],attrs:{\"layout\":\"prev, pager, next\",\"page-size\":_vm.limit,\"current-page\":_vm.currentPage,\"total\":_vm.count},on:{\"current-change\":_vm.handleCurrentChange}})],1)]),_vm._v(\" \"),_c('el-button',{staticClass:\"fl m-t-10 cf m-l-10 m-b-20\",attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.dialogAddUserVisible=true}}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('global.add'))+\"\\n        \")]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"visible\":_vm.dialogAddUserVisible},on:{\"update:visible\":function($event){_vm.dialogAddUserVisible=$event},\"close\":_vm.closeAddDialog}},[_c('div',{staticClass:\"dialog-title\",attrs:{\"slot\":\"title\"},slot:\"title\"},[_c('i',{staticClass:\"fa fa-plus-square-o m-r-10\",attrs:{\"aria-hidden\":\"true\"}}),_vm._v(\"\\n                \"+_vm._s(_vm.$t('user.addUser'))+\"\\n            \")]),_vm._v(\" \"),_c('el-form',{ref:\"form\",staticClass:\"m-l-30\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"130px\"}},[_c('el-form-item',{attrs:{\"label\":_vm.$t('label.email'),\"label-width\":_vm.formLabelWidth,\"prop\":\"username\"}},[_c('el-input',{staticStyle:{\"width\":\"320px\"},attrs:{\"autocomplete\":\"off\",\"placeholder\":_vm.$t('user.emailhold')},model:{value:(_vm.form.username),callback:function ($$v) {_vm.$set(_vm.form, \"username\", $$v)},expression:\"form.username\"}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogAddUserVisible = false}}},[_vm._v(_vm._s(_vm.$t('global.cancel')))]),_vm._v(\" \"),_c('el-button',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isLoading),expression:\"isLoading\"}],attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addUser()}}},[_vm._v(_vm._s(_vm.$t('global.add')))])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-6f8d34de\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/components/user/list.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-6f8d34de\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/user/list.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}